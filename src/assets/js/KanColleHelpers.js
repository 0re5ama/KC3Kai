var PS={};!function(n){"use strict";n.range=function(n){return function(r){for(var e=n>r?-1:1,t=[],u=n,o=0;u!==r;u+=e)t[o++]=u;return t[o]=u,t}},n.replicate=function(n){return function(r){if(1>n)return[];for(var e=new Array(n),t=0;n>t;t++)e[t]=r;return e}},n.length=function(n){return n.length},n["uncons'"]=function(n){return function(r){return function(e){return 0===e.length?n({}):r(e[0])(e.slice(1))}}},n.indexImpl=function(n){return function(r){return function(e){return function(t){return 0>t||t>=e.length?r:n(e[t])}}}},n._updateAt=function(n){return function(r){return function(e){return function(t){return function(u){if(0>e||e>=u.length)return r;var o=u.slice();return o[e]=t,n(o)}}}}},n.concat=function(n){for(var r=[],e=0,t=n.length;t>e;e++)for(var u=n[e],o=0,a=u.length;a>o;o++)r.push(u[o]);return r},n.filter=function(n){return function(r){return r.filter(n)}},n.slice=function(n){return function(r){return function(e){return e.slice(n,r)}}},n.zipWith=function(n){return function(r){return function(e){for(var t=r.length<e.length?r.length:e.length,u=new Array(t),o=0;t>o;o++)u[o]=n(r[o])(e[o]);return u}}}}(PS["Data.Array"]=PS["Data.Array"]||{}),function(n){"use strict";n.arrayMap=function(n){return function(r){for(var e=r.length,t=new Array(e),u=0;e>u;u++)t[u]=n(r[u]);return t}},n.concatArray=function(n){return function(r){return n.concat(r)}},n.intAdd=function(n){return function(r){return n+r|0}},n.intMul=function(n){return function(r){return n*r|0}},n.intSub=function(n){return function(r){return n-r|0}},n.refEq=function(n){return function(r){return n===r}},n.unsafeCompareImpl=function(n){return function(r){return function(e){return function(t){return function(u){return u>t?n:t>u?e:r}}}}},n.boolOr=function(n){return function(r){return n||r}},n.boolAnd=function(n){return function(r){return n&&r}},n.boolNot=function(n){return!n},n.showIntImpl=function(n){return n.toString()}}(PS.Prelude=PS.Prelude||{}),function(n){"use strict";var r=PS.Prelude,e=function(){function n(){}return n.value=new n,n}(),t=function(){function n(){}return n.value=new n,n}(),u=function(){function n(){}return n.value=new n,n}(),o=function(n){this.compose=n},a=function(n,r){this["__superclass_Prelude.Semigroupoid_0"]=n,this.id=r},i=function(n){this.map=n},c=function(n,r){this["__superclass_Prelude.Functor_0"]=n,this.apply=r},l=function(n,r){this["__superclass_Prelude.Apply_0"]=n,this.pure=r},f=function(n){this.append=n},s=function(n,r,e,t){this.add=n,this.mul=r,this.one=e,this.zero=t},p=function(n,r){this["__superclass_Prelude.Semiring_0"]=n,this.sub=r},m=function(n){this.eq=n},h=function(n,r){this["__superclass_Prelude.Eq_0"]=n,this.compare=r},g=function(n,r){this.bottom=n,this.top=r},d=function(n,r,e,t){this["__superclass_Prelude.Bounded_0"]=n,this.conj=r,this.disj=e,this.not=t},y=function(n){this.show=n},v=function(n){return n.zero},S=r.unsafeCompareImpl(e.value)(u.value)(t.value),P=function(n){return n.top},A=function(n){return n.sub},D=function(n){return A(n)},w=new y(r.showIntImpl),b=function(n){return n.show},F=new s(r.intAdd,r.intMul,1,0),C=new o(function(n){return function(r){return function(e){return n(r(e))}}}),_=new f(r.concatArray),I=new p(function(){return F},r.intSub),E=function(n){return n.pure},M=function(n){return n.one},k=function(n){return n.not},B=function(n){return function(r){return D(n)(v(n["__superclass_Prelude.Semiring_0"]()))(r)}},N=function(n){return n.mul},T=function(n){return n.map},L=function(n){return T(n)},K=function(n){return n.id},H=new i(r.arrayMap),q=function(n){return function(r){return function(e){return n(e)(r)}}},x=new m(r.refEq),O=new m(r.refEq),j=new h(function(){return O},S),V=function(n){return n.eq},z=function(n){return V(n)},R=function(n){return n.disj},W=function(n){return R(n)},J=function(n){return function(r){return n}},U=function(n){return n.conj},G=function(n){return U(n)},X=function(n){return n.compose},$=function(n){return X(n)},Q=function(n){return q(X(n))},Y=function(n){return n.compare},Z=function(n){return function(r){return function(e){var u=Y(n)(r)(e);return u instanceof t?!0:!1}}},nn=function(n){return function(r){return function(t){var u=Y(n)(r)(t);return u instanceof e?!1:!0}}},rn=new a(function(){return C},function(n){return n}),en=new g(!1,!0),tn=function(n){return n.bottom},un=new d(function(){return en},r.boolAnd,r.boolOr,r.boolNot),on=function(n){return n.apply},an=function(n){return n.append},cn=function(n){return an(n)},ln=function(n){return n.add},fn=function(n){return ln(n)};n.LT=e,n.GT=t,n.EQ=u,n.Show=y,n.BooleanAlgebra=d,n.Bounded=g,n.Ord=h,n.Eq=m,n.Ring=p,n.Semiring=s,n.Semigroup=f,n.Applicative=l,n.Apply=c,n.Functor=i,n.Category=a,n.Semigroupoid=o,n.show=b,n["||"]=W,n["&&"]=G,n.not=k,n.disj=R,n.conj=U,n.bottom=tn,n.top=P,n[">="]=nn,n[">"]=Z,n.compare=Y,n["=="]=z,n.eq=V,n["-"]=D,n.negate=B,n.sub=A,n["+"]=fn,n.one=M,n.mul=N,n.zero=v,n.add=ln,n["<>"]=cn,n.append=an,n.pure=E,n.apply=on,n["<$>"]=L,n.map=T,n.id=K,n[">>>"]=Q,n["<<<"]=$,n.compose=X,n["const"]=J,n.flip=q,n.semigroupoidFn=C,n.categoryFn=rn,n.functorArray=H,n.semigroupArray=_,n.semiringInt=F,n.ringInt=I,n.eqInt=O,n.eqString=x,n.ordInt=j,n.boundedBoolean=en,n.booleanAlgebraBoolean=un,n.showInt=w}(PS.Prelude=PS.Prelude||{}),function(n){"use strict";var r=(PS.Prelude,function(n,r){this["__superclass_Prelude.Semigroup_0"]=n,this.mempty=r}),e=function(n){return n.mempty};n.Monoid=r,n.mempty=e}(PS["Data.Monoid"]=PS["Data.Monoid"]||{}),function(n){"use strict";var r=PS.Prelude,e=(PS["Data.Functor.Invariant"],PS["Control.Alt"],PS["Control.Alternative"],PS["Control.Extend"],PS["Control.MonadPlus"],PS["Control.Plus"],PS["Data.Monoid"],function(){function n(){}return n.value=new n,n}()),t=function(){function n(n){this.value0=n}return n.create=function(r){return new n(r)},n}(),u=function(n){return function(r){return function(u){if(u instanceof e)return n;if(u instanceof t)return r(u.value0);throw new Error("Failed pattern match at /tmp/psbuild/kancolle-helpers/bower_components/purescript-maybe/src/Data/Maybe.purs line 26, column 1 - line 27, column 1: "+[n.constructor.name,r.constructor.name,u.constructor.name])}}},o=new r.Functor(function(n){return function(r){return r instanceof t?new t(n(r.value0)):e.value}});n.Nothing=e,n.Just=t,n.maybe=u,n.functorMaybe=o}(PS["Data.Maybe"]=PS["Data.Maybe"]||{}),function(n){"use strict";var r=(PS.Prelude,PS["Data.Maybe"]),e=function(n){if(n instanceof r.Just)return n.value0;throw new Error("Failed pattern match at /tmp/psbuild/kancolle-helpers/bower_components/purescript-maybe/src/Data/Maybe/Unsafe.purs line 10, column 1 - line 11, column 1: "+[n.constructor.name])};n.fromJust=e}(PS["Data.Maybe.Unsafe"]=PS["Data.Maybe.Unsafe"]||{}),function(n){"use strict";n.foldrArray=function(n){return function(r){return function(e){for(var t=r,u=e.length,o=u-1;o>=0;o--)t=n(e[o])(t);return t}}},n.foldlArray=function(n){return function(r){return function(e){for(var t=r,u=e.length,o=0;u>o;o++)t=n(t)(e[o]);return t}}}}(PS["Data.Foldable"]=PS["Data.Foldable"]||{}),function(n){"use strict";var r=PS.Prelude,e=(PS["Control.Comonad"],PS["Control.Extend"],PS["Data.Monoid"]),t=function(n){return n},u=function(n){return new r.Semigroup(function(e){return function(t){return r.disj(n)(e)(t)}})},o=function(n){return n},a=function(n){return new e.Monoid(function(){return u(n)},r.bottom(n["__superclass_Prelude.Bounded_0"]()))};n.Disj=t,n.runDisj=o,n.semigroupDisj=u,n.monoidDisj=a}(PS["Data.Monoid.Disj"]=PS["Data.Monoid.Disj"]||{}),function(n){"use strict";var r=PS["Data.Foldable"],e=PS.Prelude,t=PS["Data.Monoid"],u=(PS["Control.Apply"],PS["Data.Monoid.Disj"]),o=(PS["Data.Monoid.Conj"],PS["Data.Maybe"],PS["Data.Maybe.First"],PS["Data.Maybe.Last"],PS["Data.Monoid.Additive"],PS["Data.Monoid.Dual"],PS["Data.Monoid.Multiplicative"],function(n,r,e){this.foldMap=n,this.foldl=r,this.foldr=e}),a=function(n){return n.foldr},i=function(n){return n.foldl},c=function(n){return function(r){return i(n)(e["<>"](r["__superclass_Prelude.Semigroup_0"]()))(t.mempty(r))}},l=function(n){return function(r){return i(n)(e["+"](r))(e.zero(r))}},f=new o(function(n){return function(r){return function(u){return a(f)(function(t){return function(u){return e["<>"](n["__superclass_Prelude.Semigroup_0"]())(r(t))(u)}})(t.mempty(n))(u)}}},r.foldlArray,r.foldrArray),s=function(n){return n.foldMap},p=function(n){return function(r){return function(t){return e["<<<"](e.semigroupoidFn)(u.runDisj)(s(n)(u.monoidDisj(r))(e["<<<"](e.semigroupoidFn)(u.Disj)(t)))}}};n.Foldable=o,n.sum=l,n.any=p,n.mconcat=c,n.foldMap=s,n.foldl=i,n.foldr=a,n.foldableArray=f}(PS["Data.Foldable"]=PS["Data.Foldable"]||{}),function(n){"use strict";var r=PS["Data.Array"],e=PS.Prelude,t=(PS["Control.Lazy"],PS["Control.Alt"],PS["Data.Maybe"]),u=(PS["Data.Maybe.Unsafe"],PS["Data.Foldable"],PS["Data.Traversable"],PS["Control.Alternative"],PS["Control.MonadPlus"],PS["Control.Plus"],PS["Data.Functor.Invariant"],PS["Data.Monoid"],PS["Data.Tuple"],r.range),o=r._updateAt(t.Just.create)(t.Nothing.value),a=r["uncons'"](e["const"](t.Nothing.value))(function(n){return function(r){return new t.Just({head:n,tail:r})}}),i=r.slice(0),c=r["uncons'"](e["const"](t.Nothing.value))(function(n){return function(n){return new t.Just(n)}}),l=function(n){return e["=="](e.eqInt)(r.length(n))(0)},f=r.indexImpl(t.Just.create)(t.Nothing.value),s=f,p=function(n){return function(r){return function(e){var u=function(t){return o(n)(r(t))(e)};return t.maybe(t.Nothing.value)(u)(s(e)(n))}}},m=r["uncons'"](e["const"](t.Nothing.value))(function(n){return function(r){return new t.Just(n)}});n.take=i,n.modifyAt=p,n.updateAt=o,n.index=f,n.uncons=a,n.tail=c,n.head=m,n["null"]=l,n[".."]=u,n.zipWith=r.zipWith,n.slice=r.slice,n.filter=r.filter,n.concat=r.concat,n.length=r.length,n.replicate=r.replicate}(PS["Data.Array"]=PS["Data.Array"]||{}),function(n){"use strict";var r=(PS["Data.Array.Unsafe"],PS["Data.Array"]),e=(PS.Prelude,function(n){return r.slice(1)(r.length(n))(n)});n.tail=e}(PS["Data.Array.Unsafe"]=PS["Data.Array.Unsafe"]||{}),function(n){"use strict";var r=PS.Prelude,e=(PS["Data.Monoid"],PS["Control.Alt"],PS["Control.Extend"],PS["Data.Bifoldable"],PS["Data.Bifunctor"],PS["Data.Bitraversable"],PS["Data.Foldable"],PS["Data.Traversable"],function(){function n(n){this.value0=n}return n.create=function(r){return new n(r)},n}()),t=function(){function n(n){this.value0=n}return n.create=function(r){return new n(r)},n}(),u=new r.Functor(function(n){return function(r){if(r instanceof e)return new e(r.value0);if(r instanceof t)return new t(n(r.value0));throw new Error("Failed pattern match at /tmp/psbuild/kancolle-helpers/bower_components/purescript-either/src/Data/Either.purs line 52, column 1 - line 56, column 1: "+[n.constructor.name,r.constructor.name])}}),o=new r.Apply(function(){return u},function(n){return function(o){if(n instanceof e)return new e(n.value0);if(n instanceof t)return r["<$>"](u)(n.value0)(o);throw new Error("Failed pattern match at /tmp/psbuild/kancolle-helpers/bower_components/purescript-either/src/Data/Either.purs line 92, column 1 - line 116, column 1: "+[n.constructor.name,o.constructor.name])}}),a=new r.Applicative(function(){return o},t.create);n.Left=e,n.Right=t,n.functorEither=u,n.applyEither=o,n.applicativeEither=a}(PS["Data.Either"]=PS["Data.Either"]||{}),function(n){"use strict";n.toForeign=function(n){return n},n.unsafeFromForeign=function(n){return n},n.typeOf=function(n){return typeof n},n.isNull=function(n){return null===n},n.isUndefined=function(n){return void 0===n}}(PS["Data.Foreign"]=PS["Data.Foreign"]||{}),function(n){"use strict";n.joinWith=function(n){return function(r){return r.join(n)}}}(PS["Data.String"]=PS["Data.String"]||{}),function(n){"use strict";var r=PS["Data.String"];PS["Data.Char"],PS.Prelude,PS["Data.String.Unsafe"],PS["Data.Maybe"],PS["Data.Monoid"];n.joinWith=r.joinWith}(PS["Data.String"]=PS["Data.String"]||{}),function(n){"use strict";n.fromNumberImpl=function(n){return function(r){return function(e){return(0|e)===e?n(e):r}}}}(PS["Data.Int"]=PS["Data.Int"]||{}),function(n){"use strict";var r=PS["Data.Int"],e=(PS["Data.Int.Bits"],PS.Prelude,PS["Data.Maybe"]),t=r.fromNumberImpl(e.Just.create)(e.Nothing.value);n.fromNumber=t}(PS["Data.Int"]=PS["Data.Int"]||{}),function(n){"use strict";var r=PS["Data.Foreign"],e=(PS.Prelude,PS["Data.Function"],PS["Data.Maybe"],PS["Data.String"],PS["Data.Either"],PS["Data.Int"],function(){function n(n,r){this.value0=n,this.value1=r}return n.create=function(r){return function(e){return new n(r,e)}},n}()),t=function(){function n(n,r){this.value0=n,this.value1=r}return n.create=function(r){return function(e){return new n(r,e)}},n}();n.TypeMismatch=e,n.ErrorAtProperty=t,n.isUndefined=r.isUndefined,n.isNull=r.isNull,n.typeOf=r.typeOf,n.unsafeFromForeign=r.unsafeFromForeign,n.toForeign=r.toForeign}(PS["Data.Foreign"]=PS["Data.Foreign"]||{}),function(n){"use strict";n.unsafeReadPropImpl=function(n,r,e,t){return null==t?n:r(t[e])},n.unsafeHasOwnProperty=function(n,r){return Object.prototype.hasOwnProperty.call(r,n)},n.unsafeHasProperty=function(n,r){return n in r}}(PS["Data.Foreign.Index"]=PS["Data.Foreign.Index"]||{}),function(n){"use strict";var r=PS["Data.Foreign.Index"],e=(PS["Data.Function"],PS["Data.Foreign"]),t=PS.Prelude,u=PS["Data.Either"],o=(PS["Data.Int"],function(n,r,e,t){this.errorAt=n,this.hasOwnProperty=r,this.hasProperty=e,this.ix=t}),a=function(n){return function(o){return r.unsafeReadPropImpl(new u.Left(new e.TypeMismatch("object",e.typeOf(o))),t.pure(u.applicativeEither),n,o)}},i=a,c=function(n){return n.ix},l=function(n){return function(u){return e.isNull(u)?!1:e.isUndefined(u)?!1:t["||"](t.booleanAlgebraBoolean)(t["=="](t.eqString)(e.typeOf(u))("object"))(t["=="](t.eqString)(e.typeOf(u))("function"))?r.unsafeHasProperty(n,u):!1}},f=function(n){return n.hasProperty},s=function(n){return function(u){return e.isNull(u)?!1:e.isUndefined(u)?!1:t["||"](t.booleanAlgebraBoolean)(t["=="](t.eqString)(e.typeOf(u))("object"))(t["=="](t.eqString)(e.typeOf(u))("function"))?r.unsafeHasOwnProperty(n,u):!1}},p=new o(e.ErrorAtProperty.create,s,l,t.flip(i)),m=function(n){return n.hasOwnProperty},h=function(n){return n.errorAt};n.Index=o,n.errorAt=h,n.hasOwnProperty=m,n.hasProperty=f,n.ix=c,n.prop=i,n.indexString=p}(PS["Data.Foreign.Index"]=PS["Data.Foreign.Index"]||{}),function(n){"use strict";var r=PS.Prelude,e=(PS["Data.Functor.Invariant"],PS["Data.Monoid"]),t=function(n){return n},u=new r.Semigroup(function(n){return function(e){return r["<<<"](r.semigroupoidFn)(n)(e)}}),o=function(n){return n},a=new e.Monoid(function(){return u},r.id(r.categoryFn));n.Endo=t,n.runEndo=o,n.semigroupEndo=u,n.monoidEndo=a}(PS["Data.Monoid.Endo"]=PS["Data.Monoid.Endo"]||{}),function(n){"use strict";n["null"]=null,n.notNull=function(n){return n}}(PS["Data.Nullable"]=PS["Data.Nullable"]||{}),function(n){"use strict";var r=PS["Data.Nullable"],e=PS["Data.Maybe"],t=(PS["Data.Function"],PS.Prelude,e.maybe(r["null"])(r.notNull));n.toNullable=t}(PS["Data.Nullable"]=PS["Data.Nullable"]||{}),function(n){"use strict";n.floor=Math.floor}(PS.Math=PS.Math||{}),function(n){"use strict";var r=PS.Math;n.floor=r.floor}(PS.Math=PS.Math||{}),function(n){"use strict";var r=PS["Data.Foreign.Index"],e=PS["Data.Foreign"],t=(PS["Data.Nullable"],function(n){return function(t){return r.hasOwnProperty(r.indexString)(n)(e.toForeign(t))}}),u=t("api_hourai_flag"),o=t("api_stage_flag"),a=t("api_stage_flag2");n.hasHourai=u,n.hasKouku2=a,n.hasKouku=o,n.hasField=t}(PS["KanColle.KCAPI.Battle"]=PS["KanColle.KCAPI.Battle"]||{}),function(n){"use strict";var r=PS.Prelude,e=PS["Data.String"],t=PS["Data.Maybe"],u=PS["Data.Maybe.Unsafe"],o=PS["Data.Int"],a=PS.Math,i=PS["KanColle.KCAPI.Battle"],c=PS["Data.Array.Unsafe"],l=PS["Data.Array"],f=PS["Data.Foreign"],s=PS["Data.Foldable"],p=PS["Data.Monoid.Endo"],m=PS["Data.Monoid"],h=PS["Data.Nullable"],g=function(n){return"DamageInfoNight {hougeki="+(r.show(r.showInt)(n.hougeki)+(", currentHp="+(r.show(r.showInt)(n.currentHp)+"}")))},d=function(n){return e.joinWith(" | ")(r.map(r.functorArray)(t.maybe("<N/A>")(g))(n))},y=function(n){return"DamageInfo {aerial="+(r.show(r.showInt)(n.aerial)+(", aerial2="+(r.show(r.showInt)(n.aerial2)+(", opening="+(r.show(r.showInt)(n.opening)+(", hougeki1="+(r.show(r.showInt)(n.hougeki1)+(", hougeki2="+(r.show(r.showInt)(n.hougeki2)+(", hougeki3="+(r.show(r.showInt)(n.hougeki3)+(", closing="+(r.show(r.showInt)(n.closing)+(", currentHp="+(r.show(r.showInt)(n.currentHp)+"}")))))))))))))))},v=function(n){return e.joinWith(" | ")(r.map(r.functorArray)(t.maybe("<N/A>")(y))(n))},S=function(n){return{aerial:0,aerial2:0,opening:0,hougeki1:0,hougeki2:0,hougeki3:0,closing:0,currentHp:n}},P=r.map(r.functorArray)(r["<<<"](r.semigroupoidFn)(u.fromJust)(r["<<<"](r.semigroupoidFn)(o.fromNumber)(a.floor))),A=function(n){return function(e){return function(u){var o=P(c.tail(n.api_fdam)),a=P(c.tail(n.api_edam)),i=r["<>"](r.semigroupArray)([r.negate(r.ringInt)(1)])(r["<>"](r.semigroupArray)(o)(a)),f=function(n){return function(t){if(1===e){var u={};for(var o in t)t.hasOwnProperty(o)&&(u[o]=t[o]);return u.opening=n,u.currentHp=r["-"](r.ringInt)(t.currentHp)(n),u}if(2===e){var a={};for(var i in t)t.hasOwnProperty(i)&&(a[i]=t[i]);return a.closing=n,a.currentHp=r["-"](r.ringInt)(t.currentHp)(n),a}throw new Error("Failed pattern match at /tmp/psbuild/kancolle-helpers/src/KanColle/DamageAnalysis.purs line 191, column 1 - line 195, column 1: "+[e.constructor.name])}};return l.zipWith(r["<<<"](r.semigroupoidFn)(r.map(t.functorMaybe))(f))(i)(u)}}},D=function(n){return function(e){if(i.hasHourai(n)){var t=r["=="](r.eqInt)(n.api_opening_flag)(1);if(t)return A(n.api_opening_atack)(1)(e);if(!t)return e;throw new Error("Failed pattern match at /tmp/psbuild/kancolle-helpers/src/KanColle/DamageAnalysis.purs line 205, column 1 - line 206, column 1: "+[t.constructor.name])}return e}},w=function(n){return function(e){var o=P(l.concat(r.map(r.functorArray)(f.unsafeFromForeign)(c.tail(n.api_hougeki.api_damage)))),a=l.concat(r.map(r.functorArray)(f.unsafeFromForeign)(c.tail(n.api_hougeki.api_df_list))),i=function(n){return function(e){var t={};for(var u in e)e.hasOwnProperty(u)&&(t[u]=e[u]);return t.hougeki=n,t.currentHp=r["-"](r.ringInt)(e.currentHp)(n),t}},m=function(){var n=function(){var n=function(n){return function(e){return p.Endo(r["<<<"](r.semigroupoidFn)(u.fromJust)(l.modifyAt(n)(function(n){return r["+"](r.semiringInt)(n)(e)})))}};return s.mconcat(s.foldableArray)(p.monoidEndo)(l.zipWith(n)(a)(o))}();return p.runEndo(n)(l.replicate(13)(0))}();return l.zipWith(r["<<<"](r.semigroupoidFn)(r.map(t.functorMaybe))(i))(m)(e)}},b=function(n){return function(e){return function(o){var a=P(l.concat(r.map(r.functorArray)(f.unsafeFromForeign)(c.tail(n.api_damage)))),i=l.concat(r.map(r.functorArray)(f.unsafeFromForeign)(c.tail(n.api_df_list))),m=function(n){return function(t){if(1===e){var u={};for(var o in t)t.hasOwnProperty(o)&&(u[o]=t[o]);return u.hougeki1=n,u.currentHp=r["-"](r.ringInt)(t.currentHp)(n),u}if(2===e){var a={};for(var i in t)t.hasOwnProperty(i)&&(a[i]=t[i]);return a.hougeki2=n,a.currentHp=r["-"](r.ringInt)(t.currentHp)(n),a}if(3===e){var c={};for(var l in t)t.hasOwnProperty(l)&&(c[l]=t[l]);return c.hougeki3=n,c.currentHp=r["-"](r.ringInt)(t.currentHp)(n),c}throw new Error("Failed pattern match at /tmp/psbuild/kancolle-helpers/src/KanColle/DamageAnalysis.purs line 137, column 1 - line 141, column 1: "+[e.constructor.name])}},h=function(){var n=function(){var n=function(n){return function(e){return p.Endo(r["<<<"](r.semigroupoidFn)(u.fromJust)(l.modifyAt(n)(function(n){return r["+"](r.semiringInt)(n)(e)})))}};return s.mconcat(s.foldableArray)(p.monoidEndo)(l.zipWith(n)(i)(a))}();return p.runEndo(n)(l.replicate(13)(0))}();return l.zipWith(r["<<<"](r.semigroupoidFn)(r.map(t.functorMaybe))(m))(h)(o)}}},F=function(n){return function(e){if(i.hasHourai(n)){var t=r["=="](r.eqInt)(n.api_hourai_flag[3])(1);if(t)return A(n.api_raigeki)(2)(e);if(!t)return e;throw new Error("Failed pattern match at /tmp/psbuild/kancolle-helpers/src/KanColle/DamageAnalysis.purs line 211, column 1 - line 212, column 1: "+[t.constructor.name])}return e}},C=function(n){if(i.hasHourai(n)){var e=l.take(3)(n.api_hourai_flag),t=function(){var t=r["=="](r.eqInt)(e[0])(1);if(t)return p.Endo(b(n.api_hougeki1)(1));if(!t)return m.mempty(p.monoidEndo);throw new Error("Failed pattern match at /tmp/psbuild/kancolle-helpers/src/KanColle/DamageAnalysis.purs line 217, column 1 - line 218, column 1: "+[t.constructor.name])}(),u=function(){var t=r["=="](r.eqInt)(e[1])(1);if(t)return p.Endo(b(n.api_hougeki2)(2));if(!t)return m.mempty(p.monoidEndo);throw new Error("Failed pattern match at /tmp/psbuild/kancolle-helpers/src/KanColle/DamageAnalysis.purs line 217, column 1 - line 218, column 1: "+[t.constructor.name])}(),o=function(){var t=r["=="](r.eqInt)(e[2])(1);if(t)return p.Endo(b(n.api_hougeki3)(3));if(!t)return m.mempty(p.monoidEndo);throw new Error("Failed pattern match at /tmp/psbuild/kancolle-helpers/src/KanColle/DamageAnalysis.purs line 217, column 1 - line 218, column 1: "+[t.constructor.name])}();return p.runEndo(r["<>"](p.semigroupEndo)(t)(r["<>"](p.semigroupEndo)(u)(o)))}return r.id(r.categoryFn)},_=function(n){return function(e){if(i.hasKouku2(n)){var u=r["=="](r.eqInt)(n.api_stage_flag2[2])(0);if(u)return e;if(!u){var o=c.tail(P(n.api_kouku2.api_stage3.api_fdam)),a=c.tail(P(n.api_kouku2.api_stage3.api_edam)),f=r["<>"](r.semigroupArray)([0])(r["<>"](r.semigroupArray)(o)(a)),s=function(n){return function(e){var t={};for(var u in e)e.hasOwnProperty(u)&&(t[u]=e[u]);return t.aerial2=n,t.currentHp=r["-"](r.ringInt)(e.currentHp)(n),t}};return l.zipWith(r["<<<"](r.semigroupoidFn)(r.map(t.functorMaybe))(s))(f)(e)}throw new Error("Failed pattern match at /tmp/psbuild/kancolle-helpers/src/KanColle/DamageAnalysis.purs line 119, column 1 - line 120, column 1: "+[u.constructor.name])}return e}},I=function(n){return function(e){if(i.hasKouku(n)){var u=r["=="](r.eqInt)(n.api_stage_flag[2])(0);if(u)return e;if(!u){var o=c.tail(P(n.api_kouku.api_stage3.api_fdam)),a=c.tail(P(n.api_kouku.api_stage3.api_edam)),f=r["<>"](r.semigroupArray)([0])(r["<>"](r.semigroupArray)(o)(a)),s=function(n){return function(e){var t={};for(var u in e)e.hasOwnProperty(u)&&(t[u]=e[u]);return t.aerial=n,t.currentHp=r["-"](r.ringInt)(e.currentHp)(n),t}};return l.zipWith(r["<<<"](r.semigroupoidFn)(r.map(t.functorMaybe))(s))(f)(e)}throw new Error("Failed pattern match at /tmp/psbuild/kancolle-helpers/src/KanColle/DamageAnalysis.purs line 102, column 1 - line 103, column 1: "+[u.constructor.name])}return e}},E=function(n){var e=function(n){return-1===n?t.Nothing.value:new t.Just({hougeki:0,currentHp:n})},u=r.map(r.functorArray)(e)(n.api_nowhps);return u},M=function(n){var e=function(n){return-1===n?t.Nothing.value:new t.Just(S(n))},u=r.map(r.functorArray)(e)(n.api_nowhps);return u},k=function(n){return w(n)(E(n))},B=r["<<<"](r.semigroupoidFn)(k)(f.unsafeFromForeign),N=r["<<<"](r.semigroupoidFn)(r.map(r.functorArray)(h.toNullable))(B),T=function(n){var e=s.foldMap(s.foldableArray)(p.monoidEndo)(r["<<<"](r.semigroupoidFn)(p.Endo)(function(r){return r(n)}))([I,_,D,C,F]);return p.runEndo(e)(M(n))},L=r["<<<"](r.semigroupoidFn)(T)(f.unsafeFromForeign),K=r["<<<"](r.semigroupoidFn)(r.map(r.functorArray)(h.toNullable))(L);n.analyzeRawNightBattleJS=N,n.analyzeRawBattleJS=K,n.analyzeRawNightBattle=B,n.analyzeRawBattle=L,n.analyzeNightBattle=k,n.analyzeBattle=T,n.calcAllHougeki=C,n.calcClosingRaigeki=F,n.calcOpeningRaigeki=D,n.calcRaigeki=A,n.calcNightHougeki=w,n.calcHougeki=b,n.calcAerial2=_,n.calcAerial=I,n.damageNormalize=P,n.battleStartNight=E,n.battleStart=M,n.noDamage=S,n.pprFleetDamageTookInfoNight=d,n.pprFleetDamageTookInfo=v,n.pprDamageTookInfoNight=g,n.pprDamageTookInfo=y}(PS["KanColle.DamageAnalysis"]=PS["KanColle.DamageAnalysis"]||{}),function(n){"use strict";var r=function(){function n(){}return n.value=new n,n}(),e=function(){function n(){}return n.value=new n,n}(),t=function(){function n(){}return n.value=new n,n}(),u=function(){function n(){}return n.value=new n,n}(),o=function(){function n(){}return n.value=new n,n}(),a=function(){function n(){}return n.value=new n,n}(),i=function(){function n(){}return n.value=new n,n}(),c=function(){function n(){}return n.value=new n,n}(),l=function(){function n(){}return n.value=new n,n}(),f=function(){function n(){}return n.value=new n,n}(),s=function(){function n(){}return n.value=new n,n}(),p=function(){function n(){}return n.value=new n,n}(),m=function(){function n(){}return n.value=new n,n}(),h=function(){function n(){}return n.value=new n,n}(),g=function(){function n(){}return n.value=new n,n}(),d=function(){function n(){}return n.value=new n,n}(),y=function(){function n(){}return n.value=new n,n}(),v=function(){function n(){}return n.value=new n,n}(),S=function(){function n(){}return n.value=new n,n}(),P=function(){function n(){}return n.value=new n,n}(),A=function(){function n(){}return n.value=new n,n}(),D=function(n){if(n instanceof r)return"DDE";if(n instanceof e)return"DD";if(n instanceof t)return"CL";if(n instanceof u)return"CLT";if(n instanceof o)return"CA";if(n instanceof a)return"CAV";if(n instanceof i)return"CVL";if(n instanceof c)return"FBB";if(n instanceof l)return"BB";if(n instanceof f)return"BBV";if(n instanceof s)return"CV";if(n instanceof p)return"XBB";if(n instanceof m)return"SS";if(n instanceof h)return"SSV";if(n instanceof g)return"AP";if(n instanceof d)return"AV";if(n instanceof y)return"LHA";if(n instanceof v)return"CVB";if(n instanceof S)return"AR";if(n instanceof P)return"AS";if(n instanceof A)return"CT";throw new Error("Failed pattern match at /tmp/psbuild/kancolle-helpers/src/KanColle/Generated/SType.purs line 6, column 1 - line 7, column 1: "+[n.constructor.name])},w=function(n){if("DDE"===n)return r.value;if("DD"===n)return e.value;if("CL"===n)return t.value;if("CLT"===n)return u.value;if("CA"===n)return o.value;if("CAV"===n)return a.value;if("CVL"===n)return i.value;if("FBB"===n)return c.value;if("BB"===n)return l.value;if("BBV"===n)return f.value;if("CV"===n)return s.value;if("XBB"===n)return p.value;if("SS"===n)return m.value;if("SSV"===n)return h.value;if("AP"===n)return g.value;if("AV"===n)return d.value;if("LHA"===n)return y.value;if("CVB"===n)return v.value;if("AR"===n)return S.value;if("AS"===n)return P.value;if("CT"===n)return A.value;throw new Error("Failed pattern match at /tmp/psbuild/kancolle-helpers/src/KanColle/Generated/SType.purs line 29, column 1 - line 30, column 1: "+[n.constructor.name])};n.DDE=r,n.DD=e,n.CL=t,n.CLT=u,n.CA=o,n.CAV=a,n.CVL=i,n.FBB=c,n.BB=l,n.BBV=f,n.CV=s,n.XBB=p,n.SS=m,n.SSV=h,n.AP=g,n.AV=d,n.LHA=y,n.CVB=v,n.AR=S,n.AS=P,n.CT=A,n.readSType=w,n.showSType=D}(PS["KanColle.Generated.SType"]=PS["KanColle.Generated.SType"]||{}),function(n){"use strict";var r=PS.Prelude,e=PS["KanColle.Generated.SType"],t=new r.Eq(function(n){return function(t){return r["=="](r.eqString)(e.showSType(n))(e.showSType(t))}});n.eqSType=t}(PS["KanColle.SType"]=PS["KanColle.SType"]||{}),function(n){"use strict";var r=PS.Prelude,e=PS["Data.String"],t=PS["KanColle.Generated.SType"],u=PS["Data.Foldable"],o=PS["Data.Array"],a=PS["Data.Maybe"],i=(PS["Data.Monoid"],PS["KanColle.SType"]),c=function(){function n(n){this.value0=n}return n.create=function(r){return new n(r)},n}(),l=function(){function n(n){this.value0=n}return n.create=function(r){return new n(r)},n}(),f=function(){function n(n){this.value0=n}return n.create=function(r){return new n(r)},n}(),s=function(){function n(n){this.value0=n}return n.create=function(r){return new n(r)},n}(),p=function(){function n(n){this.value0=n}return n.create=function(r){return new n(r)},n}(),m=function(){function n(n){this.value0=n}return n.create=function(r){return new n(r)},n}(),h=function(){function n(n){this.value0=n}return n.create=function(r){return new n(r)},n}(),g=function(){function n(n,r){this.value0=n,this.value1=r}return n.create=function(r){return function(e){return new n(r,e)}},n}(),d=function(){function n(n){this.value0=n}return n.create=function(r){return new n(r)},n}(),y=function(n){var e=function(n){return[new g(n,[t.SS.value,t.SSV.value])]},u=function(n){return function(r){return[new g(n,[r])]}},o=function(n){return[new p(n)]},a=function(n){return function(r){return[new s(new c(n)),new d(r)]}},i=function(n){return[new g(n,[t.CV.value,t.CVL.value,t.AV.value])]};return 1===n?a(1)(2):2===n?a(2)(4):3===n?a(3)(3):4===n?r["<>"](r.semigroupArray)(a(3)(3))(r["<>"](r.semigroupArray)(u(1)(t.CL.value))(u(2)(t.DD.value))):5===n?r["<>"](r.semigroupArray)(a(3)(4))(r["<>"](r.semigroupArray)(u(1)(t.CL.value))(u(2)(t.DD.value))):6===n?a(4)(4):7===n?a(5)(6):8===n?a(6)(6):9===n?r["<>"](r.semigroupArray)(a(3)(4))(r["<>"](r.semigroupArray)(u(1)(t.CL.value))(u(2)(t.DD.value))):10===n?r["<>"](r.semigroupArray)(a(3)(3))(u(2)(t.CL.value)):11===n?r["<>"](r.semigroupArray)(a(6)(4))(u(2)(t.DD.value)):12===n?r["<>"](r.semigroupArray)(a(4)(4))(u(2)(t.DD.value)):13===n?r["<>"](r.semigroupArray)(a(5)(6))(r["<>"](r.semigroupArray)(u(1)(t.CL.value))(u(4)(t.DD.value))):14===n?r["<>"](r.semigroupArray)(a(6)(6))(r["<>"](r.semigroupArray)(u(1)(t.CL.value))(u(3)(t.DD.value))):15===n?r["<>"](r.semigroupArray)(a(9)(6))(r["<>"](r.semigroupArray)(i(2))(u(2)(t.DD.value))):16===n?r["<>"](r.semigroupArray)(a(11)(6))(r["<>"](r.semigroupArray)(u(1)(t.CL.value))(u(2)(t.DD.value))):17===n?r["<>"](r.semigroupArray)(a(20)(6))(r["<>"](r.semigroupArray)(u(1)(t.CL.value))(u(3)(t.DD.value))):18===n?r["<>"](r.semigroupArray)(a(15)(6))(r["<>"](r.semigroupArray)(i(3))(u(2)(t.DD.value))):19===n?r["<>"](r.semigroupArray)(a(20)(6))(r["<>"](r.semigroupArray)(u(2)(t.BBV.value))(u(2)(t.DD.value))):20===n?r["<>"](r.semigroupArray)(a(1)(2))(r["<>"](r.semigroupArray)(e(1))(u(1)(t.CL.value))):21===n?r["<>"](r.semigroupArray)(a(15)(5))(r["<>"](r.semigroupArray)(o(30))(r["<>"](r.semigroupArray)(u(1)(t.CL.value))(r["<>"](r.semigroupArray)(u(4)(t.DD.value))([new h(3)])))):22===n?r["<>"](r.semigroupArray)(a(30)(6))(r["<>"](r.semigroupArray)(o(45))(r["<>"](r.semigroupArray)(u(1)(t.CA.value))(r["<>"](r.semigroupArray)(u(1)(t.CL.value))(u(2)(t.DD.value))))):23===n?r["<>"](r.semigroupArray)(a(50)(6))(r["<>"](r.semigroupArray)(o(200))(r["<>"](r.semigroupArray)(u(2)(t.BBV.value))(u(2)(t.DD.value)))):24===n?r["<>"](r.semigroupArray)(a(50)(6))(r["<>"](r.semigroupArray)(o(200))(r["<>"](r.semigroupArray)(u(1)(t.CL.value))(r["<>"](r.semigroupArray)(u(4)(t.DD.value))([new s(new l([t.CL.value]))])))):25===n?r["<>"](r.semigroupArray)(a(25)(4))(r["<>"](r.semigroupArray)(u(2)(t.CA.value))(u(2)(t.DD.value))):26===n?r["<>"](r.semigroupArray)(a(30)(4))(r["<>"](r.semigroupArray)(i(1))(r["<>"](r.semigroupArray)(u(1)(t.CL.value))(u(2)(t.DD.value)))):27===n?r["<>"](r.semigroupArray)(a(1)(2))(e(2)):28===n?r["<>"](r.semigroupArray)(a(30)(3))(e(3)):29===n?r["<>"](r.semigroupArray)(a(50)(3))(e(3)):30===n?r["<>"](r.semigroupArray)(a(55)(4))(e(4)):31===n?r["<>"](r.semigroupArray)(a(60)(4))(r["<>"](r.semigroupArray)(o(200))(e(4))):32===n?r["<>"](r.semigroupArray)(a(5)(4))(r["<>"](r.semigroupArray)(u(1)(t.CT.value))(r["<>"](r.semigroupArray)(u(2)(t.DD.value))([new s(new l([t.CT.value]))]))):35===n?r["<>"](r.semigroupArray)(a(40)(6))(r["<>"](r.semigroupArray)(i(2))(r["<>"](r.semigroupArray)(u(1)(t.CA.value))(u(1)(t.DD.value)))):36===n?r["<>"](r.semigroupArray)(a(30)(6))(r["<>"](r.semigroupArray)(u(2)(t.AV.value))(r["<>"](r.semigroupArray)(u(1)(t.CL.value))(u(1)(t.DD.value)))):37===n?r["<>"](r.semigroupArray)(a(50)(6))(r["<>"](r.semigroupArray)(o(200))(r["<>"](r.semigroupArray)(u(1)(t.CL.value))(r["<>"](r.semigroupArray)(u(5)(t.DD.value))([new h(4)])))):38===n?r["<>"](r.semigroupArray)(a(65)(6))(r["<>"](r.semigroupArray)(o(240))(r["<>"](r.semigroupArray)(u(5)(t.DD.value))([new h(4),new m(8)]))):39===n?r["<>"](r.semigroupArray)(a(3)(5))(r["<>"](r.semigroupArray)(o(180))(r["<>"](r.semigroupArray)(u(1)(t.AS.value))(e(4)))):40===n?r["<>"](r.semigroupArray)(a(25)(6))(r["<>"](r.semigroupArray)(o(150))(r["<>"](r.semigroupArray)(u(1)(t.CL.value))(r["<>"](r.semigroupArray)(u(2)(t.AV.value))(r["<>"](r.semigroupArray)(u(2)(t.DD.value))([new s(new l([t.CL.value]))]))))):[];
},v=r[">>>"](r.semigroupoidFn)(y)(r[">>>"](r.semigroupoidFn)(o["null"])(r.not(r.booleanAlgebraBoolean))),S=function(n){var r={};for(var e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r.stype=t.readSType(n.stype),r},P=r.map(r.functorArray)(S),A=function(n){if(n instanceof c)return"ship level should be at least "+r.show(r.showInt)(n.value0);if(n instanceof l)return"ship should have one of the following type: "+e.joinWith(",")(r.map(r.functorArray)(t.showSType)(n.value0));if(n instanceof f)return"ship should have at least "+(r.show(r.showInt)(n.value0)+" drum(s)");throw new Error("Failed pattern match at /tmp/psbuild/kancolle-helpers/src/KanColle/Expedition.purs line 42, column 1 - line 43, column 1: "+[n.constructor.name])},D=function(n){if(n instanceof s)return"flagship: "+A(n.value0);if(n instanceof p)return"fleet level sum should be at least "+r.show(r.showInt)(n.value0);if(n instanceof m)return"fleet should have at least "+(r.show(r.showInt)(n.value0)+" drum(s)");if(n instanceof h)return"at least "+(r.show(r.showInt)(n.value0)+" ship(s) should have drum(s)");if(n instanceof g)return"require at least "+(r.show(r.showInt)(n.value0)+(" ship(s) of the following type: "+e.joinWith(",")(r.map(r.functorArray)(t.showSType)(n.value1))));if(n instanceof d)return"fleet should have at least "+(r.show(r.showInt)(n.value0)+" ship(s)");throw new Error("Failed pattern match at /tmp/psbuild/kancolle-helpers/src/KanColle/Expedition.purs line 49, column 1 - line 50, column 1: "+[n.constructor.name])},w=r.map(r.functorArray)(D),b=r["<>"](r.semigroupArray)(o[".."](1)(32))(o[".."](35)(40)),F=function(n){return function(e){if(n instanceof c)return r[">="](r.ordInt)(e.level)(n.value0);if(n instanceof l)return u.any(u.foldableArray)(r.booleanAlgebraBoolean)(r["=="](i.eqSType)(e.stype))(n.value0);if(n instanceof f)return r[">="](r.ordInt)(e.drumCount)(n.value0);throw new Error("Failed pattern match at /tmp/psbuild/kancolle-helpers/src/KanColle/Expedition.purs line 83, column 1 - line 84, column 1: "+[n.constructor.name])}},C=function(n){return function(e){var t=function(n){return r["<<<"](r.semigroupoidFn)(o.length)(o.filter(n))},i=o.uncons(e);if(i instanceof a.Just){if(n instanceof s)return F(n.value0)(i.value0.head);if(n instanceof p)return r[">="](r.ordInt)(u.sum(u.foldableArray)(r.semiringInt)(r.map(r.functorArray)(function(n){return n.level})(e)))(n.value0);if(n instanceof m)return r[">="](r.ordInt)(u.sum(u.foldableArray)(r.semiringInt)(r.map(r.functorArray)(function(n){return n.drumCount})(e)))(n.value0);if(n instanceof h)return r[">="](r.ordInt)(t(function(n){return r[">"](r.ordInt)(n.drumCount)(0)})(e))(n.value0);if(n instanceof g)return r[">="](r.ordInt)(t(F(new l(n.value1)))(e))(n.value0);if(n instanceof d)return r[">="](r.ordInt)(o.length(e))(n.value0);throw new Error("Failed pattern match at /tmp/psbuild/kancolle-helpers/src/KanColle/Expedition.purs line 89, column 1 - line 90, column 1: "+[n.constructor.name])}if(i instanceof a.Nothing)return!1;throw new Error("Failed pattern match at /tmp/psbuild/kancolle-helpers/src/KanColle/Expedition.purs line 89, column 1 - line 90, column 1: "+[i.constructor.name])}},_=function(n){return function(e){var t=y(n);return o.filter(function(n){return r.not(r.booleanAlgebraBoolean)(C(n)(e))})(t)}},I=function(n){return function(e){return r["&&"](r.booleanAlgebraBoolean)(v(n))(o["null"](_(n)(e)))}},E=function(n){return o.filter(function(r){return I(r)(n)})(b)};n.ShipLevel=c,n.ShipTypeOneOf=l,n.ShipDrum=f,n.Flagship=s,n.FleetLevel=p,n.FleetDrum=m,n.FleetShipWithDrum=h,n.FleetSTypeCount=g,n.FleetShipCount=d,n.fromRawFleet=P,n.fromRawShip=S,n.getAvailableExpeditions=E,n.explainRequirements=w,n.explainFleetRequirement=D,n.explainShipRequirement=A,n.unsatisfiedRequirements=_,n.validExpeditionId=v,n.checkExpedition=I}(PS["KanColle.Expedition"]=PS["KanColle.Expedition"]||{});
